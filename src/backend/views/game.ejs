<html>
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>UNO Lobby</title>  
        <link rel="stylesheet" href="/stylesheets/game.css">
    </head>
    <body>

        <div class="table">
            <div class="player player-top">
                <img src="/images/cards/Deck.png" class = "top-player-card">
                <img src="/images/cards/Deck.png" class = "top-player-card">
                <img src="/images/cards/Deck.png" class = "top-player-card">
                <img src="/images/cards/Deck.png" class = "top-player-card">
                <img src="/images/cards/Deck.png" class = "top-player-card">
                <img src="/images/cards/Deck.png" class = "top-player-card">
                <img src="/images/cards/Deck.png" class = "top-player-card">
                <img src="/images/cards/Deck.png" class = "top-player-card">
                <img src="/images/cards/Deck.png" class = "top-player-card">
                <img src="/images/cards/Deck.png" class = "top-player-card">
                <img src="/images/cards/Deck.png" class = "top-player-card">
                <h2 class="player-name">Player Username</h2>
                <h4 class="card-count">Card Count : 11</h4>
            </div>

            <div class="player player-left">
                <h2 class="player-name">Player Username</h2>
                <h4 class="card-count">Card Count : 3</h4>
                <img src="/images/cards/Deck.png" class = "left-player-card">
                <img src="/images/cards/Deck.png" class = "left-player-card">
                <img src="/images/cards/Deck.png" class = "left-player-card">
            </div>

            <div class="center-box">
                <div class="draw-card">
                    <h4 class="draw-text">Draw Card</h4>
                    <a class="draw">
                        <img src="/images/cards/Deck.png" class="card card-1">
                    </a>
                </div>
                <img src="/images/cards/Red_7.png" class="card card-2">
            </div>

            <div class="player player-right">
                <h2 class="player-name">Player Username</h2>
                <h4 class="card-count">Card Count : 7</h4>
                <img src="/images/cards/Deck.png" class = "right-player-card">
                <img src="/images/cards/Deck.png" class = "right-player-card">
                <img src="/images/cards/Deck.png" class = "right-player-card">
                <img src="/images/cards/Deck.png" class = "right-player-card">
                <img src="/images/cards/Deck.png" class = "right-player-card">
                <img src="/images/cards/Deck.png" class = "right-player-card">
                <img src="/images/cards/Deck.png" class = "right-player-card">
            </div>

            <div class="player player-bottom">
                <h2 class="player-name">Player Username</h2>
                <h4 class="card-count">Card Count : 7</h4>
                <a class="player-card">
                    <img src="/images/cards/Red_1.png" class = "bottom-player-card">
                </a>
                <a class="player-card">
                <img src="/images/cards/Red_4.png" class = "bottom-player-card">
                </a>
                <a class="player-card">
                <img src="/images/cards/Wild.png" class = "bottom-player-card">
                </a>
                <a class="player-card">
                    <img src="/images/cards/Red_1.png" class = "bottom-player-card">
                </a>
                <a class="player-card">
                    <img src="/images/cards/Red_1.png" class = "bottom-player-card">
                </a>
                <a class="player-card">
                    <img src="/images/cards/Red_1.png" class = "bottom-player-card">
                </a>
                <a class="player-card">
                    <img src="/images/cards/Red_1.png" class = "bottom-player-card">
                </a>
            </div>
        </div>

        <!-- CHAT BOX -->
        <button id="chat-button">
            <img src="/images/assets/chat_image.png" class="chat-toggle">
        </button>
        <aside class="chat-section" data-room-type="game" data-game-room-id="<%= gameId %>">
        <div class="chat-header">Game Chat</div>

        <div class="chat-messages" id="chat-messages"></div>

        <form class="chat-input" id="chat-form">
          <input
            type="text"
            name="message"
            id="chat-input-field"
            placeholder="Type a message..."
            autocomplete="off"
          />
          <button type="submit" class="-message">Send</button>
        </form>
      </aside>

      <script>
        // Chat UI toggle functionality
        const chatButton = document.getElementById('chat-button');
        const chatSection = document.querySelector('.chat-section');

        // Toggle chat on button click
        chatButton.addEventListener('click', (e) => {
            chatSection.classList.toggle('open');
        });

        // Close when clicking outside chat AND outside button
        document.addEventListener('click', (e) => {
            const clickedInsideChat = chatSection.contains(e.target);
            const clickedChatButton = chatButton.contains(e.target);

            if (!clickedInsideChat && !clickedChatButton) {
                chatSection.classList.remove('open');
            }
        });

        // Close on Escape
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                chatSection.classList.remove('open');
            }
        });
      </script>

      <script src="/js/bundle.js"></script>
    
    </body>
</html>